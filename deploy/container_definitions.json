[
    {
        "name": "api",
        "image": "292374005836.dkr.ecr.ap-southeast-2.amazonaws.com/api:latest",
        "memory": 256,
        "memoryReservation": 128,
        "essential": true,
        "portMappings": [
            {
                "hostPort": 5000,
                "containerPort": 5000,
                "protocol": "tcp"
            }
        ],
        "links": [
            "postgres:postgres"
        ],
        "environment" : [
            { "name" : "APP_ENV", "value" : "Staging" }
        ],
        "logConfiguration": {
            "logDriver": "awslogs",
            "options": {
                "awslogs-group": "api",
                "awslogs-region": "ap-southeast-2",
                "awslogs-stream-prefix": "api"
            }
        }
    },
    {
        "name": "postgres",
        "image": "292374005836.dkr.ecr.ap-southeast-2.amazonaws.com/postgres:latest",
        "memory": 512,
        "memoryReservation": 256,
        "essential": true,
        "portMappings": [
            {
                "hostPort": 5432,
                "containerPort": 5432,
                "protocol": "tcp"
            }
        ],
        "logConfiguration": {
            "logDriver": "awslogs",
            "options": {
                "awslogs-group": "postgres",
                "awslogs-region": "ap-southeast-2",
                "awslogs-stream-prefix": "postgres"
            }
        }
    },
    {
        "name": "web",
        "image": "292374005836.dkr.ecr.ap-southeast-2.amazonaws.com/web:latest",
        "memory": 256,
        "memoryReservation": 64,
        "essential": true,
        "portMappings": [
            {
                "hostPort": 80,
                "containerPort": 80,
                "protocol": "tcp"
            }
        ],
        "links": [
            "api:api"
        ],
        "logConfiguration": {
            "logDriver": "awslogs",
            "options": {
                "awslogs-group": "web",
                "awslogs-region": "ap-southeast-2",
                "awslogs-stream-prefix": "web"
            }
        }
    }
]
